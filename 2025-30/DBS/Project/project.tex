\documentclass[11pt]{article}

\usepackage[margin=1in]{geometry}
\usepackage{booktabs}
\usepackage{array}
\usepackage{tabularx}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{xcolor}
\usepackage{amsmath,amssymb}
\usepackage{enumitem}
\usepackage{multirow}
\usepackage{minted} % compile with -shell-escape
\usepackage{caption}
\usepackage{longtable}

\hypersetup{
  colorlinks=true,
  linkcolor=blue!60!black,
  urlcolor=blue,
  citecolor=blue!60!black
}

\title{\vspace{-1em}Project: Designing a Telemetry and UX Database for \textit{Chocolate-Doom} Research}
\author{DBS -- Semester Project Brief}
\date{\today}

\begin{document}
\maketitle
\tableofcontents

\section{Context and Motivation}
A research group is collecting gameplay telemetry from a \emph{hacked} version of \texttt{chocolate-doom}. This build emits per-tic data (on screen and/or to file) that includes the player position $(x,y,z)$, facing \emph{angle}, \emph{momentum} vector, \emph{point-of-view} (FOV/camera), and combat stats (health, armor, ammo). It also logs meta-information such as \emph{tic} number, \emph{episode}, \emph{map}, and \emph{sector}.

The group wants to aggregate multiple play sessions to detect movement trends and potential cooperation patterns among players. Student volunteers provide demographics (age, gender, experience) and complete \emph{one} of these UX instruments:
\begin{itemize}[leftmargin=*]
  \item \href{https://selfdeterminationtheory.org/player-experience-of-needs-satisfaction-pens}{\textbf{PENS}} (Player Experience of Need Satisfaction).
  \item \href{https://uxpajournal.org/wp-content/uploads/sites/7/pdf/JUS_Keebler_GUESS-18%20Scoring%20Guidelines.pdf}{\textbf{GUESS}} (Game User-Experience Satisfaction Scale).
  \item \href{https://www.sciencedirect.com/science/article/pii/S1071581924000739}{\textbf{BANGS}} (Basic Needs in Games; open-access).
\end{itemize}

\textbf{Goal:} Design and prototype a relational database that ingests telemetry and survey data, supports exploratory queries and analytics for movement/cooperation trends, and enforces data quality and research ethics.

\section{Learning Objectives}
By completing this project, you will:
\begin{enumerate}[leftmargin=*]
  \item Model a real-world domain into entities, attributes, and relationships (ER \& relational schema).
  \item Normalize tables to at least 3NF (justify any denormalizations for performance).
  \item Define keys, constraints, and reference integrity for high-frequency telemetry.
  \item Design an ingestion pipeline for semi-structured logs (TSV $\rightarrow$ staging $\rightarrow$ core).
  \item Implement indices and assess their impact with query plans and timings.
  \item Formulate SQL queries for trajectory, proximity, and cooperation analyses.
  \item Integrate user demographics and UX scales (PENS/GUESS/BANGS) with telemetry.
  \item Address privacy, consent, and research-ethics constraints in schema \& process.
\end{enumerate}

\section{Domain Overview and Core Concepts}
\textbf{Proposed high-level entities:}
\begin{itemize}[leftmargin=*]
  \item \textbf{User}: volunteer student providing consent and demographics.
  \item \textbf{Player}: in-game identity (may be linked 1:1 to a User or support multiple aliases).
  \item \textbf{Game}: a single gameplay session instance (start/end timestamps and settings).
  \item \textbf{Time/Tic}: per-tic (or per-frame) temporal index emitted by the engine.
  \item \textbf{Episode/Map/Sector}: level structure; sectors partition maps.
  \item \textbf{TelemetryEvent}: atomic record of state at a tic (position, momentum, stats, and more).
  \item \textbf{UXInstrument}: instrument metadata (PENS/GUESS/BANGS definitions).
  \item \textbf{UXResponse}: a user's instrument responses.
\end{itemize}

\paragraph{Movement \& Cooperation Signals (to inform schema/queries).}
\begin{itemize}[leftmargin=*]
  \item \emph{Trajectories}: sequence of $(x,y,z)$ ordered by tic per player per game.
  \item \emph{Proximity events}: players within a spatial threshold for $\geq k$ tics.
  \item \emph{Co-occurrence in sectors}: overlapping time in same sector (optional:
  adjacent sectors).
\end{itemize}

\section{Data Model (Conceptual \textrightarrow Logical)}

\subsection*{Conceptual ER (deliverable)}
Produce an ER diagram capturing main relationships.  For example:

  \begin{itemize}
    \item \texttt{User}--\texttt{Player},
    \item \texttt{Player}--\texttt{Game} (via \texttt{GameParticipant}),
    \item \texttt{Game}--\texttt{TelemetryEvent},
    \item \texttt{Map}--\texttt{Sector} (1:many),
    \item \texttt{User}--\texttt{UXResponse},
    \item \texttt{UXInstrument}--\texttt{UXItem}--\texttt{UXResponseItem} .
  \end{itemize}

\paragraph{Indexing Suggestions (implement and evaluate).}
\begin{minted}[fontsize=\small]{sql}
  CREATE INDEX ON TelemetryEvent (game_id, player_id, tic);
  CREATE INDEX ON TelemetryEvent (episode, map_code, sector_id);
  CREATE INDEX ON TelemetryEvent USING gist ((pos_x, pos_y));
  CREATE INDEX ON GameParticipant (player_id, game_id);
\end{minted}

\section{Data Ingestion (ETL) Guidance}
Assume the hacked engine emits TSV lines.

\noindent \textbf{Recommended pipeline:}
\begin{enumerate}[leftmargin=*]
  \item Load raw logs to a \emph{staging} table (text fields) with minimal constraints.
  \item Validate \& transform into typed core tables using \texttt{INSERT ... SELECT}.
  \item Deduplicate on \texttt{(game\_id, tic, player\_id)}; reject malformed records with an \emph{error log} table.
\end{enumerate}

\section{Analytics Queries (Examples to Implement)}

\subsection*{Movement Trends}
TBA

\subsection*{Linking UX to Behavior}
TBA

\section{Project Tasks \& Deliverables}

\subsection*{Part A: Conceptual and Logical Design (Week 1--3)}
\begin{enumerate}[leftmargin=*]
  \item Write assumptions and requirements (functional/non-functional, ethics).
  \item Produce an ER diagram with cardinalities and key attributes.
  \item Derive relational schema; list all FKs, PKs, and constraints (Data Dictionary); justify normalization.
\end{enumerate}

\subsection*{Part B: Implementation \& Ingestion (Week 4--6)}
\begin{enumerate}[leftmargin=*]
  \item Implement DDL in your DBMS (PostgreSQL recommended).
  \item Create staging tables and scripts to load sample telemetry logs (TSV).
  \item Populate \texttt{UXInstrument}, \texttt{UXItem} with at least one instrument (PENS/GUESS/BANGS).
  \item Insert synthetic sample data (at least 3 games, 6+ players, $\geq$ 20k telemetry rows).
\end{enumerate}

\subsection*{Part C: Queries, Indexing, and Reporting (Week 7--9)}
\begin{enumerate}[leftmargin=*]
  \item Implement at least 8 analytical queries including: trajectory steps, sector heatmap,
        proximity/cooperation runs, health under proximity, ammo usage patterns, player hotspots,
        per-player summary, and UX-behavior link.
  \item Create at least 3 indexes. Show \texttt{EXPLAIN(ANALYZE)} before/after and discuss.
  \item Provide 2 views and 1 materialized view for frequent analyses.
  \item Provide a \texttt{Makefile} or shell script to recreate the schema and load samples.
\end{enumerate}

\section{Submission Format}

Submit a single PDF report with:
\begin{itemize}[leftmargin=*]
  \item \textbf{ER diagram}, \textbf{relational schema}, and \textbf{rationale}.
  \item \textbf{DDL/constraints} (appendix with code snippets).
  \item \textbf{ETL description} + sample of raw telemetry.
  \item \textbf{Queries + results} (screenshots/tables) and index evaluation.
  \item \textbf{Ethics note} and \textbf{data dictionary}.
\end{itemize}

\section{Grading Rubric (100 pts)}
\begin{center}
\begin{tabular}{p{0.48\linewidth}r}
\toprule
\textbf{Criterion} & \textbf{Points} \\
\midrule
Problem framing, assumptions, requirements clearly stated & 10 \\
Conceptual ER correctness (entities, keys, cardinalities) \& data dictionary & 20 \\
Relational design \& normalization (3NF), constraints & 15 \\
Implementation quality (DDL, integrity, sample data) & 10 \\
ETL pipeline (staging $\rightarrow$ core, validation) & 10 \\
Analytics queries (8+) correctness \& insight & 15 \\
Indexing \& performance evaluation (EXPLAIN/ANALYZE) & 10 \\
Views/materialized view for reuse & 5 \\
Report quality (clarity, organization, reproducibility) & 5 \\
\midrule
\textbf{Total} & \textbf{100} \\
\bottomrule
\end{tabular}
\end{center}

\section{Bonus}
\begin{itemize}[leftmargin=*]
  \item If available, enable extensions like \texttt{citext}, \texttt{uuid-ossp} or \texttt{pgcrypto} for authorization or \texttt{postgis} for spatial indexing.
\end{itemize}

\end{document}
